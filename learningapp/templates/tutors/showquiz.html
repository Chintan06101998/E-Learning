{% extends 'learningapp/base_tutor.html' %}
{% block title %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb m-1">
    <li class="breadcrumb-item fw-bold">
      <a href="{% url 'tutor-courses' %}">Course</a>
    </li>
    <li class="breadcrumb-item fw-bold active" aria-current="page">Quiz</li>
  </ol>
</nav>
{% endblock %}
{% block content %}
<div style="background: #b0f7d8" class="w-100">

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a
              class="nav-link active"
              href="{% url 'tutor-view-course' course_details.id  %}"
              >Details</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link active"
              href="{% url 'tutor-view-course-material' course_details.id  %}"
              >Material</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'tutor-view-course-assignments' course_details.id  %}"
              >Assignemnts</a
            >
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'tutor-view-course-quizzes' course_details.id  %}"
              >Quizzes</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div> <br/>
<!-- app-card Header - Dropdown -->
<div class="container">
  <div class="row g-3 mb-4 align-items-center justify-content-between">
    <div class="col-auto">
      <h1 class="app-page-title mb-0">{{ course_details.name }} / Quiz </h1>
    </div>
    <!--//col-auto-->
  </div>
<div
class="row g-2 justify-content-start justify-content-md-end align-items-center"
>
<div class="col-auto">
  <a
    class="btn app-btn-secondary"
    href="{% url 'tutor-add-course-quiz' course_details.id %}"
{#    data-toggle="modal"#}
{#    data-target="#addQuizModal"#}
  >
    Add Quiz
  </a>
</div>
</div>

<!-- Add Assignment Modal -->
<div class="modal fade" id="addQuizModal" tabindex="-1" role="dialog" aria-labelledby="addQuizModal" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
  <div class="modal-header">
    <h5 class="modal-title" id="addQuizModal">Create Quiz</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

  </div>
</div>
</div>
</div>

<div class="pt-3 p-md-3 p-lg-4" style="height: calc(100vh - 120px)">
<!--//app-card-->
<div class="row">


<div class="app-card app-card-orders-table shadow-sm mb-5">
  <div class="app-card-body">
    <div class="table-responsive">
      <table class="table app-table-hover mb-0 text-left">
        <thead>
          <tr>
            <th class="cell">Quiz #</th>
            <th class="cell">Name</th>
            <th class="cell">Description</th>
            <th class="cell">Total Grades</th>
            <th class="cell">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for quiz in course_quizzes %}
          <tr>
            <td class="cell">{{quiz.id}}</td>
            <td class="cell">{{quiz.name}}</td>
            <td class="cell">{{assignment.description}}</td>
            <td class="cell">{{quiz.total_marks}}</td>
            <td class="cell">
              <a
              class="btn-sm app-btn-secondary"
              style="margin-left: 4px"
              href="{% url 'tutor-view-quiz-scores' quiz.id %}"
              >View Scores</a
              >
       
              <a
                class="btn-sm app-btn-secondary"
                style="margin-left: 4px"
                href="{% url 'tutor-update-course-quiz' quiz.id %}"
                >Edit</a
              >
              <a class="btn-sm app-btn-secondary"  data-toggle="modal" href="#deleteQuizModal{{ quiz.id }}">Delete</a>
            </td>
          </tr>

          <div id="deleteQuizModal{{ quiz.id }}" class="modal fade">
            <div class="modal-dialog modal-confirm">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Delete Quiz</h4>
                </div>
                <div class="modal-body text-black">
                  <p>
                    Are you sure want to delete
                    <strong>{{ quiz.name }}</strong> quiz? Please note
                    this cannot be undone.
                  </p>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-info text-white"
                    data-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <form
                    method="post"
                    action="{% url 'tutor-delete-course-quiz' quiz.id %}"
                  >
                    {% csrf_token %}
                    <button
                      type="submit"
                      class="btn btn-danger text-white"
                      style="background: red"
                    >
                      Delete
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>

          {% endfor %}
        </tbody>
      </table>
    </div>
    <!--//table-responsive-->
  </div>
  <!--//app-card-body-->
</div>


</div>

</div>
</div>
</div>

{% endblock %}