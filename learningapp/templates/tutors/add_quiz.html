<!DOCTYPE html>
<html>
<head>
  <title>Create Quiz</title>
  <script>
      let  totalQuestions = 1;

      function deleteQuestion(id)
      {
          let btn = document.getElementById(id);
          let element = btn.parentElement;
          let parent = element.parentElement;
          parent.parentElement.removeChild(parent);
      }
    function addQuestion() {
      const questionsContainer = document.getElementById('questions-container');
      const newQuestionHTML = `
        <div>
          <h3>Question ${totalQuestions }</h3>
          <p>
            <label for="id_questions-question-${totalQuestions}">Question:</label>
            <input type="text" name="q-question-${totalQuestions}" required>
          </p>
          <p>
            <label for="id_questions-option1-${totalQuestions}">Option 1:</label>
            <input type="text" name="q-option1-${totalQuestions}" required>
          </p>
          <p>
            <label for="id_questions-option2-${totalQuestions}">Option 2:</label>
            <input type="text" name="q-option2-${totalQuestions}" required>
          </p>
          <p>
            <label for="id_questions-option3-${totalQuestions}">Option 3:</label>
            <input type="text" name="q-option3-${totalQuestions}" required>
          </p>
          <p>
            <label for="id_questions-option4-${totalQuestions}">Option 4:</label>
            <input type="text" name="q-option4-${totalQuestions}" required>
          </p>
          <p>
            <label for="id_questions-answer${totalQuestions}">Select Correct Option:</label>
            <select name="q-answer-${totalQuestions}" required>
              <option value="option1">Option 1</option>
              <option value="option2">Option 2</option>
              <option value="option3">Option 3</option>
              <option value="option4">Option 4</option>
            </select>
            <label for="id_questions-marks-${totalQuestions}">Total marks:</label>
            <input type="number"  name="q-marks-${totalQuestions}"  min="1" required="" >
          </p>
            <button type="button" id="delbtn-${totalQuestions}" onclick="deleteQuestion(this.id)">Delete Question</button>
          <hr>
        </div>
      `;
      const div = document.createElement('div');
      div.innerHTML = newQuestionHTML;
      questionsContainer.appendChild(div);
      totalQuestions = totalQuestions + 1;
    }
  </script>
</head>
<body>
  <h1>Create Quiz</h1>
  <form method="post" action="{% url 'tutor-add-course-quiz' course_id %}">
    {% csrf_token %}
    {{ quiz_form.as_p }}
    <div id="questions-container">
    </div>
    <button type="button" onclick="addQuestion()">Add Question</button>
    <button type="submit">Save Changes</button>
  </form>
</body>
</html>
